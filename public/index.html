<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1" />
  <title>React App</title>
  <script defer="defer"
          src="./static/js/main.js"></script>
  <link href="./static/css/main.css"
        rel="stylesheet">
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>
  <div id="main-row">
    <div class="content row">
      <div class="col-md-12">
        graylog query:
        <input id="textInput"
               class="ace_line"></input>
      </div>
    </div>
  </div>
</body>

<script>
  function loadTextQueryFromUrl() {
    return new URL(window.location.href).searchParams.get("q");
  }

  let textContainer = document.querySelector('.ace_line');
  let devInputElement = document.getElementById('textInput');

  if (devInputElement && textContainer) {
    textContainer.value = loadTextQueryFromUrl();
    textContainer.textContent = loadTextQueryFromUrl();

    devInputElement.addEventListener('input', function (event) {
      textContainer.textContent = event.target.value;
    });
  }

</script>

</html>